var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,o=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&n(e,t,a[t]);return e},i=(e,a)=>{var t={};for(var n in e)l.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&s)for(var n of s(e))a.indexOf(n)<0&&r.call(e,n)&&(t[n]=e[n]);return t};import{r as c,j as d,X as u}from"./react-core-DHHqMHAI.js";import{O as m,C as f,a as p,T as g,D as b,R as x,P as h}from"./ui-components-BTIQ8auT.js";import{t as y,c as j}from"./utils-uFSRKTsX.js";function N(...e){return y(j(e))}function v(e){if(e.includes("/uploads/")){return`${"/site"}${e.startsWith("/")?e:`/${e}`}`}return e}const w=x,k=h,O=p,C=c.forwardRef((e,a)=>{var t=e,{className:s}=t,l=i(t,["className"]);return d.jsx(m,o({ref:a,className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},l))});C.displayName=m.displayName;const z=c.forwardRef((e,s)=>{var l,r,n=e,{className:c,children:m}=n,g=i(n,["className","children"]);return d.jsxs(k,{children:[d.jsx(C,{}),d.jsxs(f,(l=o({ref:s,className:N("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",c)},g),r={children:[m,d.jsxs(p,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(u,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]},a(l,t(r))))]})});z.displayName=f.displayName;const P=e=>{var a=e,{className:t}=a,s=i(a,["className"]);return d.jsx("div",o({className:N("flex flex-col space-y-1.5 text-center sm:text-left",t)},s))};P.displayName="DialogHeader";const S=c.forwardRef((e,a)=>{var t=e,{className:s}=t,l=i(t,["className"]);return d.jsx(g,o({ref:a,className:N("text-lg font-semibold leading-none tracking-tight",s)},l))});S.displayName=g.displayName;const $=c.forwardRef((e,a)=>{var t=e,{className:s}=t,l=i(t,["className"]);return d.jsx(b,o({ref:a,className:N("text-sm text-muted-foreground",s)},l))});$.displayName=b.displayName;const E=({images:e,className:a=""})=>{const[t,s]=c.useState(!1),[l,r]=c.useState(null),[n,o]=c.useState(new Set),i=c.useCallback(e=>{s(!0),r(e)},[]),u=c.useCallback(()=>{s(!1),r(null)},[]),m=c.useCallback(()=>{if(null!==l){r((l-1+e.length)%e.length)}},[l,e.length]),f=c.useCallback(()=>{if(null!==l){r((l+1)%e.length)}},[l,e.length]);return c.useEffect(()=>{if(!t)return;const e=e=>{"ArrowLeft"===e.key?m():"ArrowRight"===e.key?f():"Escape"===e.key&&u()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,m,f,u]),d.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-4 gap-4 w-full ${a}`,children:[e.map((e,a)=>d.jsx("button",{className:"aspect-[4/3] rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-primary transition-transform hover:scale-105",onClick:()=>!n.has(a)&&i(a),type:"button","aria-label":`Abrir imagem ${a+1}`,disabled:n.has(a),children:n.has(a)?d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"Imagem não disponível"}):d.jsx("img",{src:e.src,alt:e.alt||`Imagem ${a+1}`,className:"w-full h-full object-cover",style:{display:"block",visibility:"visible",opacity:1},loading:"lazy",decoding:"async",onError:e=>{o(e=>new Set(e).add(a))},onLoad:()=>{}})},`${e.src}-${a}`)),d.jsx(w,{open:t,onOpenChange:s,children:d.jsx(z,{className:"max-w-3xl w-full flex flex-col items-center justify-center bg-white p-0 border-0",children:d.jsxs("div",{className:"relative w-full h-[60vw] max-h-[80vh] flex items-center justify-center bg-black/90 rounded-lg",children:[null!==l&&d.jsx("img",{src:e[l].src,alt:e[l].alt||"Imagem ampliada",className:"max-w-full max-h-[80vh] object-contain mx-auto rounded-lg",loading:"eager",decoding:"async"}),d.jsx("button",{className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full z-10 transition-colors",onClick:m,"aria-label":"Imagem anterior",type:"button",children:d.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"‹"})}),d.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full z-10 transition-colors",onClick:f,"aria-label":"Próxima imagem",type:"button",children:d.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"›"})}),d.jsx(O,{className:"absolute top-2 right-2 bg-black/60 hover:bg-black/80 text-white rounded-full p-2 transition-colors",children:d.jsx("span",{className:"text-xl","aria-hidden":"true",children:"×"})})]})})})]})},R=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{w as D,E as G,z as a,P as b,N as c,S as d,$ as e,R as f,v as g};
