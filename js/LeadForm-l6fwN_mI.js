import{r as e,j as t}from"./react-core-DHHqMHAI.js";import{g as n}from"./gallery-M8qwidzj.js";import"./ui-components-BTIQ8auT.js";import"./react-dom-DCJzcTvd.js";import"./utils-uFSRKTsX.js";const r=({formId:r,title:o="Quer saber mais sobre o ColÃ©gio Dona Clara?",backgroundImage:d="/uploads/bg-quersabermais.jpg",className:a=""})=>{const s=e.useRef(null),[i,c]=e.useState(!1),[m,l]=e.useState(!1),[u,w]=e.useState(!1),g=e.useRef(null),f=e.useRef(null),S=((t,n={})=>{const[r,o]=e.useState(!1);return e.useEffect(()=>{const e=new IntersectionObserver(([e])=>{o(e.isIntersecting)},n);return t.current&&e.observe(t.current),()=>e.disconnect()},[t,n]),r})(s,{threshold:.1,rootMargin:"100px"});e.useEffect(()=>{if(!S)return;if(window.rdStationFormInstances&&window.rdStationFormInstances[r]){const e=document.getElementById(r);if(e&&e.children.length>0)return void l(!0);window.rdStationFormInstances&&delete window.rdStationFormInstances[r],window.rdStationFormCreated&&delete window.rdStationFormCreated[r]}if(window.RDStationForms)return void b();if(g.current)return;if(m)return;w(!0);const e=document.createElement("script");e.src="https://d335luupugsy2.cloudfront.net/js/rdstation-forms/stable/rdstation-forms.min.js",e.async=!0,g.current=e,document.body.appendChild(e),e.onload=()=>{c(!0),w(!1),b()},e.onerror=()=>{w(!1)}},[S,r]);const b=()=>{if(window.RDStationForms){if(window.rdStationFormInstances&&window.rdStationFormInstances[r]){const e=document.getElementById(r);if(e&&e.children.length>0)return void l(!0);window.rdStationFormInstances&&delete window.rdStationFormInstances[r],window.rdStationFormCreated&&delete window.rdStationFormCreated[r]}if(window.rdStationFormCreated&&window.rdStationFormCreated[r]){const e=document.getElementById(r);if(e&&e.children.length>0)return void l(!0);window.rdStationFormCreated&&delete window.rdStationFormCreated[r]}try{const e=document.getElementById(r);e&&(e.innerHTML="");new window.RDStationForms(r,"UA-127960487-1").createForm(),window.rdStationFormInstances||(window.rdStationFormInstances={}),window.rdStationFormInstances[r]=!0,window.rdStationFormCreated||(window.rdStationFormCreated={}),window.rdStationFormCreated[r]=!0,l(!0)}catch(e){}}};return e.useEffect(()=>()=>{g.current=null,f.current=null},[]),t.jsx("section",{ref:s,className:`py-16 md:py-24 relative bg-transparent ${a}`,style:{backgroundImage:`url(${n(d)})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",zIndex:20},children:t.jsx("div",{className:"max-w-[1400px] w-full mx-auto px-4 relative z-10",children:t.jsxs("div",{className:"max-w-4xl mx-auto bg-white/90 p-8 rounded-lg",children:[t.jsx("h2",{className:"text-3xl text-primary font-bold text-center mb-8",children:o}),u&&t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-1/2"}),t.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),t.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),t.jsx("div",{className:"h-12 bg-gray-200 rounded"})]}),t.jsx("div",{role:"main",id:r,style:{display:m?"block":"none"}},`rd-station-form-${r}`)]})})})};export{r as default};
